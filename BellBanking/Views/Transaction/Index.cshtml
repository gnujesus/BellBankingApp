@using BellBankingApp.Core.Application.Helpers;
@using BellBankingApp.Core.Application.DTOs.Account;
@using BellBankingApp.Core.Application.Enums;

@inject IHttpContextAccessor httpContextAccesor
@{
    ViewData["Title"] = "Home Page";
}

@{
    AuthenticationResponse user = new();
    var admin = httpContextAccesor.HttpContext.Session.Get<AuthenticationResponse>(Roles.Admin.ToString());
    var customer = httpContextAccesor.HttpContext.Session.Get<AuthenticationResponse>(Roles.Customer.ToString());
    if (admin != null)
    {
        user = admin;
    }
    else
    {
        user = customer;
    }
}


<div class="container mx-auto p-4 max-w-7xl">

    <h2 class="text-2xl font-bold mb-2">We need some more data before we can proceed, @user.UserName</h2>

    <div class="mt-4">
        <div class="flex justify-between items-center">
            <div class="flex space-x-4">
                <button class="underline underline-offset-8">
                    Beneficiaries
                </button>
                <button class="text-gray-700">
                    My Accounts
                </button>
            </div>
            <p class="text-gray-600 text-sm">Total: 16 Beneficiaries</p>
        </div>

        <form method="post" action="/YourController/YourAction">
            <div class="overflow-x-auto mt-4">
                <table class="min-w-full bg-white text-sm">
                    <thead>
                        <tr>
                            <th class="py-3 px-4 text-left text-gray-600">Selected</th>
                            <th class="py-3 px-4 text-left text-gray-600">First Name</th>
                            <th class="py-3 px-4 text-left text-gray-600">Last Name</th>
                            <th class="py-3 px-4 text-left text-gray-600">DNI</th>
                            <th class="py-3 px-4 text-left text-gray-600">Account Type</th>
                        </tr>
                    </thead>
                    <tbody>
                        @for (int i = 0; i < 5; i++)
                        {
                            <tr class="border-b">
                                <td class="py-4 px-4"><input type="radio" name="selectedBeneficiary" value="beneficiary_@i" /></td>
                                <td class="py-4 px-4">Jon</td>
                                <td class="py-4 px-4">Doe</td>
                                <td class="py-4 px-4">402-7262857-6</td>
                                <td class="py-4 px-4">Savings</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>

            <div class="flex justify-end mt-4 gap-3">
                <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md text-sm flex items-center">
                    Next Step <i class="fas fa-arrow-right ml-2"></i>
                </button>

                <a asp-controller="Transaction" asp-action="Transfer" class="bg-blue-600 text-white px-4 py-2 rounded-md text-sm flex items-center">
                    Unique Transaction <i class="fas fa-plus ml-2"></i>
                </a>
            </div>
        </form>
    </div>
</div>

<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
